<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Média - Finalizar Pedido</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            /* Fundo 4K realista */
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1541745537411-b8046dc6d66c?q=80&w=2560&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            max-width: 450px;
            width: 100%;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            text-align: center;
            box-sizing: border-box;
        }

        h1 {
            color: #d9534f;
            margin-bottom: 5px;
            margin-top: 0;
        }

        /* Estilo para Tamanho e Preço Unitário */
        .info-pizza {
            background: #ffe6e6;
            color: #cc0000;
            font-weight: 800;
            padding: 10px;
            border-radius: 20px;
            font-size: 1rem;
            display: inline-block;
            margin-bottom: 25px;
            width: 100%;
            box-sizing: border-box;
            border: 1px solid #ffcccc;
        }

        .form-group {
            text-align: left;
            margin-bottom: 20px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            color: #333;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background: #fff;
            outline: none;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        
        select:focus {
            border-color: #ffc107;
        }

        .half-option {
            display: none;
            margin-top: 15px;
            border-top: 1px dashed #ccc;
            padding-top: 15px;
        }

        /* --- BOTÕES DE QUANTIDADE --- */
        .qtd-wrapper {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .btn-qtd {
            width: 40px;
            height: 40px;
            background: #ffc107;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-qtd:hover {
            background: #e0a800;
            transform: scale(1.1);
        }

        #qtd-numero {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
        }

        /* --- EXIBIÇÃO DO TOTAL --- */
        .total-box {
            font-size: 1.4rem;
            color: #28a745;
            font-weight: 800;
            margin-bottom: 20px;
            border-top: 2px dashed #ddd;
            padding-top: 15px;
        }

        .pizza-preview {
            margin: 25px 0;
            text-align: center;
        }

        .pizza-preview img {
            width: 100%;
            max-height: 220px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .btn-confirmar {
            display: block;
            width: 100%;
            background-color: #ffc107;
            color: #000;
            text-decoration: none;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            transition: transform 0.2s, background 0.3s;
            border: none;
            cursor: pointer;
            box-sizing: border-box;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-confirmar:hover {
            background-color: #e0a800;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
        }

        .footer-link {
            display: block;
            margin-top: 20px;
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: bold;
            transition: color 0.2s;
        }
        
        .footer-link:hover {
            color: #d9534f;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Pizza Média</h1>
    <div class="info-pizza">Tamanho: 30cm (6 fatias) - R$ 35,00 un.</div>

    <form>
        <div class="form-group">
            <label>Deseja dividir o sabor?</label>
            <select id="tipo-sabor" onchange="toggleMeioAMeio()">
                <option value="inteiro">Sabor Inteiro</option>
                <option value="meio">Meio a Meio</option>
            </select>
        </div>

        <div class="form-group">
            <label id="label-sabor1">Escolha o Sabor:</label>
            <select>
                <option>Calabresa Clássica</option>
                <option>Frango com Catupiry</option>
                <option>Chocolate Belga</option>
                <option>Americana</option>
                <option>Portuguesa</option>
                <option>Marguerita</option>
            </select>
        </div>

        <div class="form-group half-option" id="sabor2-container">
            <label>Escolha o 2º Sabor:</label>
            <select>
                <option>Calabresa Clássica</option>
                <option>Frango com Catupiry</option>
                <option>Chocolate Belga</option>
                <option>Americana</option>
                <option>Portuguesa</option>
                <option>Marguerita</option>
            </select>
        </div>

        <div class="form-group">
            <label>Quantidade:</label>
            <div class="qtd-wrapper">
                <button type="button" class="btn-qtd" onclick="mudarQtd(-1)">-</button>
                <span id="qtd-numero">1</span>
                <button type="button" class="btn-qtd" onclick="mudarQtd(1)">+</button>
            </div>
        </div>

        <div class="pizza-preview">
            <img src="https://images.unsplash.com/photo-1590947132387-155cc02f3212?q=80&w=1000&auto=format&fit=crop" alt="Pizza Realista Média">
        </div>

        <div class="total-box">
            Total: R$ <span id="valor-total">35,00</span>
        </div>

        <a href="#" id="link-confirmar" class="btn-confirmar">
            Confirmar Pedido
        </a>
    </form>

    <a href="index.html" class="footer-link">← Voltar ao cardápio</a>
</div>

<script>
    // --- PREÇO DA PIZZA MÉDIA ---
    const precoUnitario = 35.00; 
    let quantidade = 1;

    function toggleMeioAMeio() {
        const tipo = document.getElementById('tipo-sabor').value;
        const sabor2 = document.getElementById('sabor2-container');
        const label1 = document.getElementById('label-sabor1');

        if (tipo === 'meio') {
            sabor2.style.display = 'block';
            label1.innerText = 'Escolha o 1º Sabor:';
        } else {
            sabor2.style.display = 'none';
            label1.innerText = 'Escolha o Sabor:';
        }
    }

    // Função que controla a quantidade
    function mudarQtd(delta) {
        quantidade += delta;
        if (quantidade < 1) quantidade = 1; 
        atualizarTotal();
    }

    // Função que calcula o total e atualiza o link
    function atualizarTotal() {
        // Cálculo
        let total = quantidade * precoUnitario;
        
        // Formatação (troca ponto por vírgula)
        let totalFormatado = total.toFixed(2).replace('.', ',');

        // Atualiza na tela
        document.getElementById('qtd-numero').innerText = quantidade;
        document.getElementById('valor-total').innerText = totalFormatado;

        // Atualiza o botão para levar o valor correto para a página de pagamento
        let linkBtn = document.getElementById('link-confirmar');
        linkBtn.href = "pagamento.html?valor=" + totalFormatado;
    }

    // Inicia a função ao carregar a página
    atualizarTotal();
</script>

</body>
</html>
